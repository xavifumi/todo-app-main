<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="./style.css">
  <!--<link rel="preload" href="preload.js" as="script">-->

  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
  <script>
  $( function() {
    $( "#tasks" ).sortable({
      placeholder: "ui-state-highlight"
    });
    $( "#tasks" ).disableSelection();
  } );
  </script>


  <title>Frontend Mentor | Todo app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <style>
    .attribution { font-size: 11px; text-align: center; }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <h1>
        Todo
      </h1>
      <label class="theme-switch btnTransp" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round"></div>
      </label>
    
    <!--  <button class="btnTransp theme-switch"><img src="./images/icon-sun.svg" alt=""> </button> -->
    </header>
    <input type="text" name="taskInput" id="taskInput" placeholder="Create a new todo..." class="requadre">
    <div id="list">
      <ul id="tasks">
       
        <li class="empty requadre">
          <p id="completedTitle">
            Tasks Completed!
          </p>
        </li>
        
        <script>
            let taskList = JSON.parse(localStorage.getItem("taskList"));
            let llista = document.getElementById("tasks");

            for(element in taskList){
                let varAcabat = taskList[element].acabat ? "acabat" : ""; 
                llista.insertAdjacentHTML('afterbegin', 
                `
                    <li class="requadre ${varAcabat}" id="${element}_li">
                    <label for="${element}" class="custom-checkbox" onclick="tatxaTasques(this.htmlFor)">
                        <input type="checkbox" name="${element}" id="${element}" class="checkbox-input">
                        <span class="checkbox-show checkbox-show--checkbox"></span>
                    </label> 
                    <p>${taskList[element].tasca}</p>
                    <button class="tanca btnTransp" onclick="tancaTasques(this.parentElement.id[0])"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="#d1d3e0" fill-rule="evenodd" d="M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z"/></svg></button>
                    </li>
                    `
                    /*<div class="separador"></div>*/
            );
            document.getElementById(element).checked = taskList[element].acabat;
            }
        </script>
      </ul>

      <div id="lower" class="requadre">
        <div>

          <span id="recompteLlista"></span> items left
        </div>
        <div id="botonsFiltre">
          <span class="falseBtn selectFilter active">      
            All
          </span> 
          <span class="falseBtn selectFilter">
            Active
          </span> 
          <span class="falseBtn selectFilter">
            Completed
          </span> 
        </div>
        <div class="falseBtn" onclick="neteja()">
          Clear Completed
        </div>
      </div>
    </div>

      <div id="botonsFiltre2" class="requadre">
        <span class="falseBtn selectFilter active">      
          All
        </span> 
        <span class="falseBtn selectFilter">
          Active
        </span> 
        <span class="falseBtn selectFilter">
          Completed
        </span> 
      </div>
    </div>

    <footer>
      Drag and drop to reorder list
    </footer>

  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Fumi</a>.
  </div>
  <script src="script.js" defer></script>
</body>
</html>